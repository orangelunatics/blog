(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{474:function(t,e,a){"use strict";a.r(e);var o=a(23),s=Object(o.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{staticStyle:{"text-align":"center"}},[t._v("talking about React.js生命周期")]),t._v(" "),a("h2",{attrs:{id:"react16-之后的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react16-之后的生命周期"}},[t._v("#")]),t._v(" react16 之后的生命周期")]),t._v(" "),a("p",[a("img",{attrs:{src:"/blog/assets/img/reactLife.png",alt:"react生命周期"}})]),t._v(" "),a("ul",[a("li",[t._v("React 从 v16.3 开始废弃 componentWillMount componentWillReceiveProps componentWillUpdate 三个钩子函数，原因：因为 React Fiber Reconciliation 这个过程有可能暂停然后继续执行，所以挂载和更新之前的生命周期钩子就有可能不执行或者多次执行")])]),t._v(" "),a("h2",{attrs:{id:"各生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各生命周期"}},[t._v("#")]),t._v(" 各生命周期")]),t._v(" "),a("ol",[a("li",[t._v("constructor:")])]),t._v(" "),a("ul",[a("li",[t._v("来初始化函数内部 state")]),t._v(" "),a("li",[t._v("为 事件处理函数 绑定实例")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("getDerivedStateFromProps:")])]),t._v(" "),a("ul",[a("li",[t._v("用法：static getDerivedStateFromProps(nextProps, prevState)")]),t._v(" "),a("li",[t._v("让组件在 props 变化时更新 state。\n")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("render: 渲染 DOM")]),t._v(" "),a("li",[t._v("componentDidMount: DOM 挂载完毕调用，可以用来发送请求等")]),t._v(" "),a("li",[t._v("shouldComponentUpdate：")])]),t._v(" "),a("ul",[a("li",[t._v("用法：shouldComponentUpdate(nextProps, nextState)")]),t._v(" "),a("li",[t._v("包含两个参数，第一个是即将更新的 props 值，第二个是即将跟新后的 state 值，可以根据更新前后的 props 或 state 来比较加一些限制条件，决定是否更新，进行性能优化")])]),t._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[t._v("getSnapshotBeforeUpdate：获取 DOM 真正更新前的信息，例如滚动位置")]),t._v(" "),a("li",[t._v("componentDidUpdate：")])]),t._v(" "),a("ul",[a("li",[t._v("用法：componentDidUpdate(prevProps, prevState, snapshot)，包含三个参数，第一个是上一次 props 值。 第二个是上一次 state 值。如果组件实现了 getSnapshotBeforeUpdate() 生命周期（不常用），第三个是“snapshot” 参数传递")])]),t._v(" "),a("ol",{attrs:{start:"8"}},[a("li",[t._v("componentWillUnmount：将被卸载时调用")])])])}),[],!1,null,null,null);e.default=s.exports}}]);